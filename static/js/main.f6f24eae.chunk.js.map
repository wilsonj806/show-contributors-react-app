{"version":3,"sources":["Context.js","components/ListEle.js","components/List.js","containers/PrimaryDisplay.js","App.js","index.js"],"names":["Context","createContext","Provider","children","users","setUsers","addStars","a","uri","undefined","index","state","setState","copy","fetch","then","res","json","console","log","starred","map","repo","url","html_url","name","error","value","accessUser","str","push","ListEle","user","login","contributions","tags","context","useContext","useState","clicked","setClicked","tag","setTag","useEffect","match","starred_url","Tags","Array","i","className","key","Starred","href","alt","Expanded","id","onChange","event","target","onKeyDown","newArr","d","placeholder","src","avatar_url","onClick","List","ListEles","escapeSlash","replace","addIndexEntry","arr","length","Display","filtered","setFiltered","filter","setFilter","filterTag","setFilterTag","body","asyncFetch","escape","filteredArr","RegExp","test","regex","some","App","PrimaryDisplay","ReactDOM","render","document","getElementById"],"mappings":"6PAEMA,EAAUC,wBAAc,IAExBC,EAAW,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAc7BC,EAAQ,uCAAG,oDAAAC,EAAA,6DAAOC,EAAP,oCAAaC,EAAWC,EAAxB,oCAAgCD,EAAWE,EAA3C,+BAAmD,GAAIC,EAAvD,oCAAkEH,EAC3EI,EADS,YACGF,GADH,kBAGKG,MAAMN,GAAKO,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAHhC,OAGPD,EAHO,OAIbE,QAAQC,IAAIH,GACNI,EAAUJ,EAAIK,KAAI,SAAAC,GAEtB,MAAO,CAAEC,IADwBD,EAAzBE,SACMC,KADmBH,EAAVG,SAGzBZ,EAAKH,GAAL,QAAyBU,EACzBR,EAASC,GAVI,kDAYbK,QAAQQ,MAAR,MAZa,0DAAH,qDAgBd,OACE,kBAAC1B,EAAQE,SAAT,CACEyB,MAAO,CACLvB,QACAC,WACAuB,WAhCa,SAACC,GAAwC,IAAnCnB,EAAkC,4DAA1BD,EAAWE,EAAe,uDAAP,GAClD,GAAY,KAARkB,EAAJ,CACA,IAAMhB,EAAI,YAAOF,GAMjB,OALKE,EAAKH,GAAL,OACHG,EAAKH,GAAL,KAAsB,IAExBG,EAAKH,GAAL,KAAoBoB,KAAKD,GAElBhB,IAyBHP,aAGAH,IAKOH,I,OCmDA+B,MAhGf,YAA8C,EAA3B5B,SAA4B,IAAlB6B,EAAiB,EAAjBA,KACnBC,GADoC,mCACqBD,EAAzDC,OAAOT,EAAkDQ,EAAlDR,SAAUU,EAAwCF,EAAxCE,cAAexB,EAAyBsB,EAAzBtB,MAAOyB,EAAkBH,EAAlBG,KAAMf,EAAYY,EAAZZ,QACrDF,QAAQC,IAAIC,GAGZ,IAAMgB,EAAUC,qBAAWrC,GAEnBM,EAA0C8B,EAA1C9B,SAAUsB,EAAgCQ,EAAhCR,WAAYxB,EAAoBgC,EAApBhC,MAAOC,EAAa+B,EAAb/B,SAPO,EAUZiC,oBAAS,GAVG,mBAUpCC,EAVoC,KAU3BC,EAV2B,OAWpBF,mBAAS,IAXW,mBAWpCG,EAXoC,KAW/BC,EAX+B,KAc5CC,qBAAU,WACR,IAAgB,IAAZJ,IAAqBnB,EAAS,CAEhC,IACMwB,EAAQZ,EAAKa,YAAYD,MADlB,yBAC+B,IAAM,KAClDtC,EAASsC,EAAOZ,EAAKtB,MAAON,EAAOC,MAEpC,CAACkC,IAIJ,IAcMO,EAAOX,aAAgBY,MAAQZ,EAAKd,KAAI,SAACoB,EAAKO,GAAN,OAC5C,yBAAKC,UAAU,MAAMC,IAAKF,GAAKP,WAC5BhC,EAWC0C,EAAU/B,EACd,4BACIA,EAAQC,KAXG,SAACC,GAAU,IAClBG,EAAcH,EAAdG,KAAMF,EAAQD,EAARC,IACd,OACE,4BACE,uBAAG6B,KAAO7B,EAAM8B,IAAI,qBAAsB5B,aAS5ChB,EAEE6C,EACJ,yBAAKL,UAAU,oBACXE,EACF,yBAAKF,UAAU,aACXH,GAEJ,2BACEG,UAAU,aACVM,GAAG,gBACH5B,MAAQc,EACRe,SAzCe,SAACC,GAAD,OAAWf,EAAOe,EAAMC,OAAO/B,QA0C9CgC,UAxCgB,SAACF,GACrB,GAAkB,UAAdA,EAAMP,IAAiB,CAEzB,IAAMU,EAAShC,EAAWa,EAAK/B,EAAON,GACtCC,GAAS,SAAAwD,GAAC,OAAID,KACdlB,EAAO,MAoCLoB,YAAY,aAKlB,OACE,wBAAIb,UAAU,kBACZ,yBAAKA,UAAU,kBACb,yBACEA,UAAU,SACVc,IAAM/B,EAAKgC,WACXX,IAAI,YAGR,yBAAKJ,UAAU,wBACb,wBAAIA,UAAU,YAAahB,GAC3B,yBAAKgB,UAAU,aAAY,4BAAQA,UAAU,aAAagB,QA7D5C,kBAAMzB,GAAYD,KA6DL,MAC3B,uBAAGU,UAAU,eAAeG,KAAO5B,GAAnC,kBACA,uBAAGyB,UAAU,gBAAiB,4BAA8Bf,GAE1DK,EAAUe,OAAW7C,K,MC1EhByD,MAdf,YAAkD,EAAlC/D,SAAmC,IAAD,IAAxBC,aAAwB,MAAhB,GAAgB,EAC1C+D,GAD0C,oCAC/B/D,EAAMiB,KAAI,SAACW,EAAMgB,GAEhC,OADA9B,QAAQC,IAAIa,GAEV,kBAAC,EAAD,CAASkB,IAAMF,EAAIhB,KAAOA,QAG9B,OACE,wBAAIiB,UAAU,oBACVkB,ICuHR,SAASC,IAGP,OAH6B,uDAAJ,IAERC,QADH,OACkB,OAIlC,SAASC,IAEP,IAFgC,IAAXC,EAAU,uDAAJ,GACrBvD,EAAG,YAAOuD,GACPvB,EAAI,EAAGA,EAAIhC,EAAIwD,OAAQxB,IAC9BhC,EAAIgC,GAAJ,MAAkBA,EAEpB,OAAOhC,EAGMyD,MA7If,WAAmB,MAEWnC,mBAAS,IAFpB,mBAETlC,EAFS,KAEFC,EAFE,OAGiBiC,mBAAS,IAH1B,mBAGToC,EAHS,KAGCC,EAHD,OAIarC,mBAAS,IAJtB,mBAITsC,EAJS,KAIDC,EAJC,OAKmBvC,mBAAS,IAL5B,mBAKTwC,EALS,KAKEC,EALF,KA+FjB,OAvFApC,qBAAU,WAAM,4CACd,8BAAApC,EAAA,sEASuBO,MAAM,kEAAkEC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAT/G,OASU+D,EATV,OAaUT,EAAMD,EAAcU,GAC1B9D,QAAQC,IAAIoD,GACZlE,EAASkE,GAfb,4CADc,uBAAC,WAAD,wBAoBdU,KACC,IAGHtC,qBAAU,WACR,IAAMuC,EAASd,EAAYQ,GAC3B,GAAe,KAAXA,GAAqC,IAApBF,EAASF,OAAc,CAC1C,IAAMW,EAAeT,EAASE,QAAO,SAAC5C,GAEpC,OADc,IAAIoD,OAAOF,EAAQ,MACpBG,KAAKrD,EAAKC,UAEzB0C,EAAYQ,QACP,GAAe,KAAXP,EAAe,CACxB,IAAMO,EAAe/E,EAAMwE,QAAO,SAAC5C,GAEjC,OADc,IAAIoD,OAAOF,EAAQ,MACpBG,KAAKrD,EAAKC,UAEzB0C,EAAYQ,MAEb,CAACP,IAEJjC,qBAAU,WACO,KAAXiC,GAA+B,KAAdE,GACnBH,EAAY,MAEb,CAACC,EAAQE,IAGZnC,qBAAU,WACR,IAAMuC,EAASd,EAAYU,GAE3B,GAAkB,KAAdA,GAAwC,IAApBJ,EAASF,OAAc,CAC7C,IAAMW,EAAeT,EAASE,QAAO,SAAC5C,GACpC,IAAMsD,EAAQ,IAAIF,OAAOF,EAAQ,MAEjC,QAAIlD,EAAKG,MACQH,EAAKG,KAAKoD,MAAK,SAAC9C,GAAD,OAAS6C,EAAMD,KAAK5C,SAMtDkC,EAAYQ,QACP,GAAkB,KAAdL,EAAkB,CAC3B,IAAMK,EAAe/E,EAAMwE,QAAO,SAAC5C,GACjC,IAAMsD,EAAQ,IAAIF,OAAOF,EAAQ,MAEjC,QAAIlD,EAAKG,MACQH,EAAKG,KAAKoD,MAAK,SAAC9C,GAAD,OAAS6C,EAAMD,KAAK5C,SAMtDkC,EAAYQ,MAEb,CAACL,IAYF,kBAAC,EAAD,CACE1E,MAAQA,EACRC,SAAWA,GAEX,yBAAK4C,UAAU,gBACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,mBAAd,sCACA,2BACEA,UAAU,cACVM,GAAG,aACH5B,MAAQiD,EACRpB,SApBsB,SAACC,GAC/BoB,EAAUpB,EAAMC,OAAO/B,QAoBfmC,YAAY,mBAEd,2BACEb,UAAU,cACVM,GAAG,YACH5B,MAAQmD,EACRtB,SAvBmB,SAACC,GAC5BsB,EAAatB,EAAMC,OAAO/B,QAuBlBmC,YAAY,mBAGhB,yBAAKb,UAAU,gBACb,kBAAC,EAAD,CAAM7C,MAAmB,KAAXwE,GAA+B,KAAdE,EAAmB1E,EAAQsE,QCnHrDc,MANf,WACE,OACI,kBAACC,EAAD,O,MCANC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.f6f24eae.chunk.js","sourcesContent":["import React, { createContext } from 'react';\n\nconst Context = createContext({});\n\nconst Provider = ({ children, users, setUsers }) => {\n  // Github API index doesn't start at one, so we'll need to find another way\n\n  const accessUser = (str, index = undefined, state = []) => {\n    if (str === '') return;\n    const copy = [...state];\n    if (!copy[index][\"tags\"]) {\n      copy[index][\"tags\"] = [];\n    }\n    copy[index][\"tags\"].push(str);\n\n    return copy;\n  }\n\n  const addStars = async (uri = undefined, index = undefined, state = [], setState = undefined) => {\n    const copy = [ ...state ];\n    try {\n      const res = await fetch(uri).then(res => res.json());\n      console.log(res);\n      const starred = res.map(repo => {\n        const { html_url: url, name  } = repo;\n        return { url, name }\n      })\n      copy[index][\"starred\"] = starred;\n      setState(copy);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  return (\n    <Context.Provider\n      value={{\n        users,\n        setUsers,\n        accessUser,\n        addStars\n      }}\n    >\n      { children }\n    </Context.Provider>\n  )\n}\n\nexport default Context;\nexport { Provider }","import React, { useContext, useState, useEffect } from 'react';\nimport Context from '../Context';\n\nfunction ListEle({ children, user, ...props}) {\n  const { login, html_url, contributions, index, tags, starred } = user;\n  console.log(starred)\n\n  // Context\n  const context = useContext(Context);\n\n  const { addStars, accessUser, users, setUsers } = context;\n\n  // Local State\n  const [ clicked, setClicked ] = useState(false);\n  const [ tag, setTag ] = useState('');\n\n  // Side Effects\n  useEffect(() => {\n    if (clicked === true && !starred) {\n      // console.log(user.starred_url);\n      const regex =/.*(?=((\\{.*\\}){2}))/gi;\n      const match = user.starred_url.match(regex)[0] || null;\n      addStars(match, user.index, users, setUsers);\n    }\n  }, [clicked])\n\n\n  // Event handling\n  const handleClick = () => setClicked(!clicked);\n\n  const handleChange = (event) => setTag(event.target.value);\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Enter') {\n      // console.log(index);\n      const newArr = accessUser(tag, index, users);\n      setUsers(d => newArr);\n      setTag('');\n    }\n  }\n\n  // Other rendered things\n  const Tags = tags instanceof Array ? tags.map((tag, i) => (\n    <div className=\"tag\" key={i}>{ tag }</div>\n  )) : undefined;\n\n  const MapRepos = (repo) => {\n    const { name, url } = repo;\n    return (\n      <li>\n        <a href={ url } alt=\"URL to repository\">{ name }</a>\n      </li>\n    )\n  };\n\n  const Starred = starred ? (\n    <ul>\n      { starred.map(MapRepos) }\n    </ul>\n  ) : undefined;\n\n  const Expanded = (\n    <div className=\"expanded-display\">\n      { Starred }\n      <div className=\"wrap--tag\">\n        { Tags }\n      </div>\n      <input\n        className=\"input--tag\"\n        id=\"add-tag-input\"\n        value={ tag }\n        onChange={ handleChange }\n        onKeyDown={ handleKeyDown }\n        placeholder=\"Add tag\"\n      />\n    </div>\n  )\n\n  return (\n    <li className=\"single-profile\">\n      <div className=\"avatar-wrapper\">\n        <img\n          className=\"avatar\"\n          src={ user.avatar_url }\n          alt=\"avatar\"\n        />\n      </div>\n      <div className=\"list-content-wrapper\">\n        <h3 className=\"username\">{ login }</h3>\n        <div className=\"btn--wrap\"><button className=\"expand-btn\" onClick={ handleClick }>+</button></div>\n        <a className=\"profile-info\" href={ html_url}>Github Profile</a>\n        <p className=\"profile-info\">{ 'Number of contributions: ' + contributions }</p>\n\n        { clicked ? Expanded : undefined }\n      </div>\n    </li>\n  )\n}\n\nexport default ListEle;","import React from 'react';\nimport ListEle from './ListEle';\n\nimport './list.css';\n\nfunction List({ children, users = [], ...props }) {\n  const ListEles = users.map((user, i) => {\n    console.log(user);\n    return (\n      <ListEle key={ i } user={ user }/>\n    )\n  })\n  return (\n    <ul className=\"contributor-list\">\n      { ListEles }\n    </ul>\n  )\n}\n\nexport default List;","import React, { useState, useEffect } from 'react';\nimport { Provider } from '../Context';\n\n\nimport List from '../components/List';\n\nfunction Display() {\n  // Local State\n  const [ users, setUsers ] = useState([]);\n  const [ filtered, setFiltered ] = useState([]);\n  const [ filter, setFilter ] = useState('');\n  const [ filterTag, setFilterTag ] = useState('');\n\n  // Fetch data on load\n  useEffect(() => {\n    async function asyncFetch() {\n      // Fetch from LocalStorage\n      // const local = window.localStorage.getItem('ts-contrib');\n\n      // IF LocalStorage entry exists, set state\n      // ELSE make GET request for the asset, then save to LocalStorage and set state\n      // if (local) {\n      //   setUsers(JSON.parse(local));\n      // } else {\n        const body = await fetch('https://api.github.com/repos/microsoft/typescript/contributors').then(res => res.json());\n        // const myStorage = window.localStorage;\n\n        // myStorage.setItem('ts-contrib', JSON.stringify(body));\n        const arr = addIndexEntry(body);\n        console.log(arr);\n        setUsers(arr);\n      // }\n    }\n\n    asyncFetch();\n  }, [])\n\n  // Filter by name\n  useEffect(() => {\n    const escape = escapeSlash(filter);\n    if (filter !== '' && filtered.length !== 0) {\n      const filteredArr =  filtered.filter((user) => {\n        const regex = new RegExp(escape, 'gi');\n        return regex.test(user.login);\n      });\n      setFiltered(filteredArr);\n    } else if (filter !== '') {\n      const filteredArr =  users.filter((user) => {\n        const regex = new RegExp(escape, 'gi');\n        return regex.test(user.login);\n      });\n      setFiltered(filteredArr);\n    }\n  }, [filter])\n\n  useEffect(() => {\n    if (filter === '' && filterTag === '') {\n      setFiltered([]);\n    }\n  }, [filter, filterTag])\n\n  // Filter by tag\n  useEffect(() => {\n    const escape = escapeSlash(filterTag);\n\n    if (filterTag !== '' && filtered.length !== 0) {\n      const filteredArr =  filtered.filter((user) => {\n        const regex = new RegExp(escape, 'gi');\n\n        if (user.tags) {\n          const search = user.tags.some((tag) => regex.test(tag));\n          return search;\n        } else {\n          return false;\n        }\n      });\n      setFiltered(filteredArr);\n    } else if (filterTag !== '') {\n      const filteredArr =  users.filter((user) => {\n        const regex = new RegExp(escape, 'gi');\n\n        if (user.tags) {\n          const search = user.tags.some((tag) => regex.test(tag));\n          return search;\n        } else {\n          return false;\n        }\n      });\n      setFiltered(filteredArr);\n    }\n  }, [filterTag])\n\n  // Event handlers\n  const handleFilterInputChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleTagInputChange = (event) => {\n    setFilterTag(event.target.value)\n  }\n\n  return (\n    <Provider\n      users={ users }\n      setUsers={ setUsers }\n    >\n      <div className=\"display-card\">\n        <div className=\"head-wrapper\">\n          <h1 className=\"primary-heading\">TypeScript Repository Contributors</h1>\n          <input\n            className=\"input--main\"\n            id=\"name-input\"\n            value={ filter }\n            onChange={ handleFilterInputChange }\n            placeholder=\"Search by Name\"\n          />\n          <input\n            className=\"input--main\"\n            id=\"tag-input\"\n            value={ filterTag }\n            onChange={ handleTagInputChange }\n            placeholder=\"Search by Tag\"\n          />\n        </div>\n        <div className=\"user-display\">\n          <List users={ filter === '' && filterTag === '' ? users : filtered }/>\n        </div>\n      </div>\n    </Provider>\n  )\n}\n\n// Need to escape \\ otherwise the regex crashes\nfunction escapeSlash(str = '') {\n  const regex = /\\\\/gi;\n  const copy = str.replace(regex, '%5C');\n  return copy;\n}\n\nfunction addIndexEntry(arr = []) {\n  const res = [...arr];\n  for (let i = 0; i < res.length; i++) {\n    res[i][\"index\"] = i\n  }\n  return res;\n}\n\nexport default Display;","import React from 'react';\n\nimport PrimaryDisplay from './containers/PrimaryDisplay';\n\nfunction App() {\n  return (\n      <PrimaryDisplay/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}