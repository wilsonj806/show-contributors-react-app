{"version":3,"sources":["Context.js","components/ListEle.js","components/List.js","containers/PrimaryDisplay.js","App.js","index.js"],"names":["Context","createContext","Provider","children","users","setUsers","value","accessUser","str","index","undefined","state","copy","push","ListEle","user","login","html_url","contributions","tags","id","context","useContext","useState","clicked","setClicked","tag","setTag","Tags","Array","map","i","className","key","Expanded","onChange","event","target","onKeyDown","console","log","newArr","parseInt","d","placeholder","src","avatar_url","alt","onClick","href","List","ListEles","escapeSlash","replace","Display","filtered","setFiltered","filter","setFilter","filterTag","setFilterTag","useEffect","a","fetch","then","res","json","body","asyncFetch","escape","length","filteredArr","RegExp","test","regex","some","App","PrimaryDisplay","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2171903b.chunk.js","sourcesContent":["import React, { createContext } from 'react';\n\nconst Context = createContext({});\n\nconst Provider = ({ children, users, setUsers }) => {\n  // Github API index doesn't start at one, so we'll need to find another way\n\n  const accessUser = (str, index = undefined, state = []) => {\n    if (str === '') return;\n    const copy = [...state];\n    if (!copy[index][\"tags\"]) {\n      copy[index][\"tags\"] = [];\n    }\n    copy[index][\"tags\"].push(str);\n\n    return copy;\n  }\n\n  return (\n    <Context.Provider\n      value={{\n        users,\n        setUsers,\n        accessUser\n      }}\n    >\n      { children }\n    </Context.Provider>\n  )\n}\n\nexport default Context;\nexport { Provider }","import React, { useContext, useState } from 'react';\nimport Context from '../Context';\n\nfunction ListEle({ children, user, index, ...props}) {\n  const { login, html_url, contributions, id: githubId, tags } = user;\n  // Context\n  const context = useContext(Context);\n\n  const { accessUser, users, setUsers } = context;\n  // console.log('this is context users');\n  // console.log(users);\n\n  // Local State\n  const [ clicked, setClicked ] = useState(false);\n  const [ tag, setTag ] = useState('');\n\n  // Event handling\n  const handleClick = () => setClicked(!clicked);\n\n  const handleChange = (event) => setTag(event.target.value);\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Enter') {\n      console.log(index);\n      const newArr = accessUser(tag, parseInt(index), users);\n      setUsers(d => newArr);\n      setTag('');\n    }\n  }\n\n  // Other rendered things\n  const Tags = tags instanceof Array ? tags.map((tag, i) => (\n    <div className=\"tag\" key={i}>{ tag }</div>\n  )) : undefined;\n\n  const Expanded = (\n    <div className=\"expanded-display\">\n      { 'Hello World' }\n      <div className=\"wrap--tag\">\n        { Tags }\n      </div>\n      <input\n        className=\"input--tag\"\n        id=\"add-tag-input\"\n        value={ tag }\n        onChange={ handleChange }\n        onKeyDown={ handleKeyDown }\n        placeholder=\"Add tag\"\n      />\n    </div>\n  )\n\n  return (\n    <li className=\"single-profile\">\n      <div className=\"avatar-wrapper\">\n        <img\n          className=\"avatar\"\n          src={ user.avatar_url }\n          alt=\"avatar\"\n        />\n      </div>\n      <div className=\"list-content-wrapper\">\n        <h3 className=\"username\">{ login }</h3>\n        <div className=\"btn--wrap\"><button className=\"expand-btn\" onClick={ handleClick }>+</button></div>\n        <a className=\"profile-info\" href={ html_url}>Github Profile</a>\n        <p className=\"profile-info\">{ 'Number of contributions: ' + contributions }</p>\n\n        { clicked ? Expanded : undefined }\n      </div>\n    </li>\n  )\n}\n\nexport default ListEle;","import React from 'react';\nimport ListEle from './ListEle';\n\nimport './list.css';\n\nfunction List({ children, users = [], ...props }) {\n  const ListEles = users.map((user, i) => {\n    return (\n      <ListEle key={ i } user={ user } index={ i }/>\n    )\n  })\n  return (\n    <ul className=\"contributor-list\">\n      { ListEles }\n    </ul>\n  )\n}\n\nexport default List;","import React, { useState, useEffect } from 'react';\nimport { Provider } from '../Context';\n\n\nimport List from '../components/List';\n\nfunction Display() {\n  // Local State\n  const [ users, setUsers ] = useState([]);\n  const [ filtered, setFiltered ] = useState([]);\n  const [ filter, setFilter ] = useState('');\n  const [ filterTag, setFilterTag ] = useState('');\n\n  // Fetch data on load\n  useEffect(() => {\n    async function asyncFetch() {\n      // Fetch from LocalStorage\n      // const local = window.localStorage.getItem('ts-contrib');\n\n      // IF LocalStorage entry exists, set state\n      // ELSE make GET request for the asset, then save to LocalStorage and set state\n      // if (local) {\n      //   setUsers(JSON.parse(local));\n      // } else {\n        const body = await fetch('https://api.github.com/repos/microsoft/typescript/contributors').then(res => res.json());\n        // const myStorage = window.localStorage;\n\n        // myStorage.setItem('ts-contrib', JSON.stringify(body));\n        console.log(body);\n        setUsers(body);\n      // }\n    }\n\n    asyncFetch();\n  }, [])\n\n  // Filter by name\n  useEffect(() => {\n    const escape = escapeSlash(filter);\n    if (filter !== '' && filtered.length !== 0) {\n      const filteredArr =  filtered.filter((user) => {\n        const regex = new RegExp(escape, 'gi');\n        return regex.test(user.login);\n      });\n      setFiltered(filteredArr);\n    } else if (filter !== '') {\n      const filteredArr =  users.filter((user) => {\n        const regex = new RegExp(escape, 'gi');\n        return regex.test(user.login);\n      });\n      setFiltered(filteredArr);\n    }\n  }, [filter])\n\n  useEffect(() => {\n    if (filter === '' && filterTag === '') {\n      setFiltered([]);\n    }\n  }, [filter, filterTag])\n\n  // Filter by tag\n  useEffect(() => {\n    const escape = escapeSlash(filterTag);\n\n    if (filterTag !== '' && filtered.length !== 0) {\n      const filteredArr =  filtered.filter((user) => {\n        const regex = new RegExp(escape, 'gi');\n\n        if (user.tags) {\n          const search = user.tags.some((tag) => regex.test(tag));\n          return search;\n        } else {\n          return false;\n        }\n      });\n      setFiltered(filteredArr);\n    } else if (filterTag !== '') {\n      const filteredArr =  users.filter((user) => {\n        const regex = new RegExp(escape, 'gi');\n\n        if (user.tags) {\n          const search = user.tags.some((tag) => regex.test(tag));\n          return search;\n        } else {\n          return false;\n        }\n      });\n      setFiltered(filteredArr);\n    }\n  }, [filterTag])\n\n  // Event handlers\n  const handleFilterInputChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleTagInputChange = (event) => {\n    setFilterTag(event.target.value)\n  }\n\n  return (\n    <Provider\n      users={ users }\n      setUsers={ setUsers }\n    >\n      <div className=\"display-card\">\n        <div className=\"head-wrapper\">\n          <h1 className=\"primary-heading\">TypeScript Repository Contributors</h1>\n          <input\n            className=\"input--main\"\n            id=\"name-input\"\n            value={ filter }\n            onChange={ handleFilterInputChange }\n            placeholder=\"Search by Name\"\n          />\n          <input\n            className=\"input--main\"\n            id=\"tag-input\"\n            value={ filterTag }\n            onChange={ handleTagInputChange }\n            placeholder=\"Search by Tag\"\n          />\n        </div>\n        <div className=\"user-display\">\n          <List users={ filter === '' && filterTag === '' ? users : filtered }/>\n        </div>\n      </div>\n    </Provider>\n  )\n}\n\n// Need to escape \\ otherwise the regex crashes\nfunction escapeSlash(str = '') {\n  const regex = /\\\\/gi;\n  const copy = str.replace(regex, '%5C');\n  return copy;\n}\n\nexport default Display;","import React from 'react';\n\nimport PrimaryDisplay from './containers/PrimaryDisplay';\n\nfunction App() {\n  return (\n      <PrimaryDisplay/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}